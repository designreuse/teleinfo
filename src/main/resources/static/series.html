<!DOCTYPE HTML>
<html>
    <head>
    <link rel="shortcut icon" href="./favicon.ico" >
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Telegestione Elektra</title>
 

    <script src="http://code.jquery.com/jquery-1.9.1.js" type="text/javascript"></script>
    
    <script src="http://code.highcharts.com/stock/highstock.js"></script>
<script src="http://code.highcharts.com/stock/modules/exporting.js"></script>


<div id="container" style="min-width: 210px; height: 550px; margin: 0 auto; "></div>
 

        <script type="text/javascript">
$(function () {
	var data;
        $.getJSON('http://54.246.90.43/mesure/pappAll', function(data) {
        	
        console.log(data);	
      	

    var options = {
        chart: {
            renderTo: 'container'
        },
        xAxis: {
            type:'datetime'
        },
        series: []
    };

    
    var lignehchc = data.hchc;

    
     
            options.series.push({
                data: [],
                name: "hchc"
            }); 
            
            
    $.each(lignehchc, function (i, mesure) {
		 x = mesure.date,
            y = mesure.papp;
            options.series[0].data.push([x,y]); 
         
    	});
    	
    	
    	
    
    
    var lignehchp = data.hchp;

    
    
            options.series.push({
                data: [],
                name: "hchp"
            });
            
            
    $.each(lignehchp, function (i, mesure) {
		 x = mesure.date,
            y = mesure.papp;
            options.series[1].data.push([x,y]); 
         
    	});
    	
    	
// Temp√©rature
 var ligneweather = data.weather;
     console.log("weather : "+ligneweather);         
            options.series.push({
                data: [],
                name: "weather"
            });  
             options.series.push({
                data: [],
                name: "cloud"
            });                        
    $.each(ligneweather, function (i, weather) {
		 x = weather.date,
            y = weather.temp*100;
            options.series[2].data.push([x,y]); 
             x = weather.date,
            y = weather.cloud*100;
            options.series[3].data.push([x,y]); 
         
    	});
    
       	


    
       var chart = new Highcharts.StockChart(options);
    


        });
        
        
         
});
</script>
        </head>
    <body>
   </body>
</html>